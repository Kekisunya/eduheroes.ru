{% extends 'base.html' %}

{% block title %}
{{ title }}
{% endblock %}

{% block content %}
<div class="container-fluid d-flex justify-content-center align-items-center">
    <div class="justify-content-center">
        <div class="card profile-card" style="max-width: 30rem">
            <div class="card-body">
                <div class="d-flex flex-column justify-content-center p-4">
                    <div class="mb-2" id="id_image_crop_confirm">
                        <span id="id_cancel" class="material-icons">cancel</span>
                        <span id="id_confirm" class="material-icons">check</span>
                    </div>
                    <div class="image-container" id="id_image_container">
                        <img class="border border-dark rounded-circle img-fluid mx-auto profile-image" id="id_profile_image" src="{{ user.userpic.url }}">
                        <div class="middle" id="id_middle_container">
                            <div class="text" id="id_text">Изменить</div>
                        </div>
                    </div>
                    <form class="form-assign" action method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        {{ user_form.userpic }}
                        <h6 class="mt-4 field-heading">Email:</h6>
                        {{ user_form.email }}
                        <h6 class="mt-4 field-heading">Имя:</h6>
                        {{ user_form.username }}
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary mt-4" name="button" value="others">Сохранить изменения</button>
                        </div>
                    </form>
                    <hr>
                    <form action="" method="post">
                        {% csrf_token %}
                        <h6 class="mt-4 field-heading">Текущий пароль:</h6>
                        {{ pass_form.old_password }}
                        <h6 class="mt-4 field-heading">Введите новый пароль:</h6>
                        {{ pass_form.new_password1 }}
                        <h6 class="mt-4 field-heading">Повторите новый пароль:</h6>
                        {{ pass_form.new_password2 }}
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary mt-4" name="button" value="others">Сохранить изменения</button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script>
    enableImageOverlay()
    var csrfToken = "{{ csrf_token }}"
    var urlId = "{% url 'crop_image' %}"
</script>
{% endblock %}